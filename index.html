<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ä°yi ki DoÄŸdun Sena</title>

<style>
*{box-sizing:border-box;margin:0;padding:0}
html,body{width:100%;height:100%}

body{
  font-family:Arial,sans-serif;
  background:radial-gradient(circle at top,#0b132b 0%,#02030f 80%);
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* Stars */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background-image:
    radial-gradient(1px 1px at 20% 30%,#fff 50%,transparent 51%),
    radial-gradient(1px 1px at 80% 20%,#fff 50%,transparent 51%),
    radial-gradient(1px 1px at 60% 70%,#fff 50%,transparent 51%),
    radial-gradient(1px 1px at 30% 80%,#fff 50%,transparent 51%),
    radial-gradient(1px 1px at 90% 60%,#fff 50%,transparent 51%);
  opacity:.6;
  pointer-events:none;
}

.container{
  position:relative;
  z-index:1;
  text-align:center;
  max-width:600px;
  padding:24px;
}

h1{font-size:36px;margin-bottom:6px}
.name{opacity:.85;margin-bottom:24px}

.card{
  background:rgba(255,255,255,.15);
  border-radius:16px;
  padding:24px;
  line-height:1.6;
}

.countdown{margin-top:24px;font-size:18px}

#surprise{
  display:none;
  margin-top:20px;
  font-size:22px;
  color:#ff9ecb;
}

.music{margin-top:26px}

/* Candle */
.candle-wrap{
  margin-top:32px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:8px;
}
.candle{
  width:28px;
  height:90px;
  background:linear-gradient(#ffe1b3,#ffb703);
  border-radius:12px;
  position:relative;
  cursor:pointer;
}
.flame{
  position:absolute;
  top:-24px;
  left:50%;
  transform:translateX(-50%);
  width:18px;
  height:24px;
  background:radial-gradient(circle,#fff7c2 0%,#ff9f1c 60%,transparent 72%);
  border-radius:50%;
  animation:flicker .2s infinite;
}
@keyframes flicker{
  0%{transform:translateX(-50%) scale(1)}
  100%{transform:translateX(-50%) scale(.85)}
}
.flame.out{display:none}
.hint{font-size:14px;opacity:.8}

/* Night toggle */
.toggle{
  position:fixed;
  top:16px;
  right:16px;
  background:rgba(255,255,255,.15);
  border:none;
  color:#fff;
  padding:8px 12px;
  border-radius:20px;
  cursor:pointer;
}

/* Popup */
.popup{
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  background:rgba(255,255,255,.2);
  padding:12px 18px;
  border-radius:14px;
  font-size:14px;
  animation:fade 4s forwards;
  z-index:5;
}
@keyframes fade{
  0%{opacity:0}
  15%{opacity:1}
  100%{opacity:0}
}
</style>
</head>

<body>

<button class="toggle" id="modeBtn">ğŸŒ™</button>

<div class="container">
  <h1>Ä°yi ki DoÄŸdun</h1>
  <div class="name">Sena ğŸŒ¸</div>

  <div class="card">
    BugÃ¼n senin gÃ¼nÃ¼n.<br><br>
    Yeni yaÅŸÄ±n sana mutluluk, huzur ve kalbinden geÃ§en
    tÃ¼m gÃ¼zel ÅŸeyleri getirsin. Ä°yi ki varsÄ±n.
  </div>

  <div class="countdown" id="countdown"></div>
  <div id="surprise">ğŸ‰ Ä°YÄ° KÄ° DOÄDUN SENA ğŸ‰</div>

  <div class="music">
    <iframe style="border-radius:12px"
      src="https://open.spotify.com/embed/track/2X485T9Z5Ly0xyaghN73ed"
      width="300" height="80" frameborder="0" allow="encrypted-media"></iframe>
  </div>

  <div class="candle-wrap">
    <div class="candle" id="candle">
      <div class="flame" id="flame"></div>
    </div>
    <div class="hint">Muma dokun ve dilek tut âœ¨</div>
  </div>
</div>

<script>
/* 1ï¸âƒ£ Sekme baÅŸlÄ±ÄŸÄ± */
const originalTitle = document.title;
document.addEventListener("visibilitychange",()=>{
  document.title = document.hidden
    ? "Gitmeden Ã¶nce bir gÃ¼lÃ¼mseme bÄ±raktÄ±m âœ¨"
    : originalTitle;
});

/* 2ï¸âƒ£ Bildirim */
if ("Notification" in window) {
  setTimeout(()=>{
    if (Notification.permission === "default") {
      Notification.requestPermission().then(p=>{
        if(p==="granted"){
          new Notification("ğŸ’– KÃ¼Ã§Ã¼k bir sÃ¼rpriz",{
            body:"Buraya gelmiÅŸ olman bile yeterince gÃ¼zel."
          });
        }
      });
    }
  },4000);
}

/* 3ï¸âƒ£ Daha Ã¶nce gelmiÅŸtin */
if(localStorage.getItem("visited")){
  const pop=document.createElement("div");
  pop.className="popup";
  pop.textContent="âœ¨ Buraya daha Ã¶nce gelmiÅŸtin";
  document.body.appendChild(pop);
  setTimeout(()=>pop.remove(),4000);
}else{
  localStorage.setItem("visited","yes");
}

/* Countdown */
const countdown=document.getElementById("countdown");
const surprise=document.getElementById("surprise");

function update(){
  const now=new Date();
  let y=now.getFullYear();
  let t=new Date(y,0,1,0,0,0);
  if(now>t)t=new Date(y+1,0,1,0,0,0);
  const diff=t-now;
  if(diff<=0){
    countdown.style.display="none";
    surprise.style.display="block";
    return;
  }
  const d=Math.floor(diff/86400000);
  const h=Math.floor(diff%86400000/3600000);
  const m=Math.floor(diff%3600000/60000);
  const s=Math.floor(diff%60000/1000);
  countdown.textContent=`${d} gÃ¼n ${h} saat ${m} dk ${s} sn`;
}
setInterval(update,1000); update();

/* Candle */
const candle=document.getElementById("candle");
const flame=document.getElementById("flame");
candle.onclick=()=>{
  if(!flame.classList.contains("out")){
    flame.classList.add("out");
    alert("âœ¨ DileÄŸin kabul olsun âœ¨");
  }
};

/* Mode */
const btn=document.getElementById("modeBtn");
btn.onclick=()=>{
  document.body.classList.toggle("light");
  btn.textContent=document.body.classList.contains("light")?"â˜€ï¸":"ğŸŒ™";
};
</script>

</body>
</html>
