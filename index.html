<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ä°yi ki DoÄŸdun Sena</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Montserrat:wght@300;600;800&display=swap');

    * { box-sizing: border-box; margin: 0; padding: 0; cursor: none; }
    body {
        font-family: 'Montserrat', sans-serif;
        background: radial-gradient(circle at top, #0d1b2a 0%, #000814 100%);
        color: #fff; min-height: 100vh; display: flex; flex-direction: column;
        align-items: center; justify-content: center; overflow-x: hidden;
        transition: 0.8s; padding: 40px 0;
    }
    body.light { background: #fff5f8; color: #333; }

    /* SAÄ ALTTAKÄ° KALP */
    .heart-container { position: fixed; bottom: 80px; right: 30px; z-index: 200; pointer-events: auto; }
    .pulsing-heart { font-size: 35px; color: #ff4d6d; animation: heartBeat 1.2s infinite ease-in-out; }
    .heart-note { position: absolute; bottom: 45px; right: 0; background: #ff9ecb; color: white; font-size: 11px; padding: 5px 10px; border-radius: 15px; white-space: nowrap; opacity: 0; transition: 0.3s; }
    .heart-container:hover .heart-note { opacity: 1; transform: translateY(-5px); }
    @keyframes heartBeat { 0%, 30%, 60% { transform: scale(1); } 15%, 45% { transform: scale(1.2); } }

    /* BAÅLIK VE SÃœSLEMELER */
    .header-group { margin-bottom: 25px; text-align: center; z-index: 100; }
    .top-wish { font-size: 14px; letter-spacing: 6px; text-transform: uppercase; color: rgba(255,158,203,0.8); margin-bottom: 8px; font-weight: 600; }
    .name-wrapper { display: flex; align-items: center; justify-content: center; gap: 15px; }
    .name { font-size: 45px; font-weight: bold; color: #ff9ecb; letter-spacing: 2px; }
    .side-flower { font-size: 30px; animation: bounce 2s infinite ease-in-out; }
    @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }

    /* DÄ°LEK FENERÄ° */
    .lantern {
        position: fixed; width: 35px; height: 45px;
        background: rgba(255, 140, 50, 0.9); border-radius: 10px 10px 18px 18px;
        box-shadow: 0 0 25px #ff7b00, inset 0 0 15px #fff700; z-index: 1000; pointer-events: none;
    }
    .lantern::after {
        content: ''; position: absolute; bottom: -4px; left: 50%; transform: translateX(-50%);
        width: 12px; height: 12px; background: #fff; border-radius: 50%; filter: blur(2px);
        box-shadow: 0 0 12px #fff; animation: flicker 0.1s infinite alternate;
    }
    @keyframes flicker { from { opacity: 0.7; } to { opacity: 1; } }

    /* POP-UP */
    #magic-popup-overlay {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0, 0, 0, 0.92); backdrop-filter: blur(15px);
        display: none; align-items: center; justify-content: center;
        z-index: 10000; opacity: 0; transition: opacity 0.5s ease;
    }
    .popup-content { 
        background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 158, 203, 0.5); 
        border-radius: 35px; padding: 40px; max-width: 420px; width: 85%; 
        text-align: center; transform: scale(0.8); transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    #magic-popup-overlay.active { opacity: 1; display: flex; }
    #magic-popup-overlay.active .popup-content { transform: scale(1); }

    /* ANA KART */
    .main-card { background: rgba(255, 255, 255, 0.04); backdrop-filter: blur(12px); border-radius: 30px; padding: 35px; border: 1px solid rgba(255, 255, 255, 0.1); width: 90%; max-width: 420px; z-index: 100; text-align: center; margin-bottom: 20px; }
    .dominant-countdown { font-size: 28px; font-weight: 800; color: #ff9ecb; margin-bottom: 20px; }
    
    .time-note { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); font-family: 'Dancing Script', cursive; font-size: 20px; color: #ff9ecb; z-index: 200; opacity: 0; transition: 1s ease; text-align: center; width: 100%; pointer-events: none; }

    /* DOÄUM GÃœNÃœ KARTLARI */
    #surprise-container { display: none; justify-content: center; gap: 10px; margin-top: 15px; }
    .gift-card { 
        width: 85px; height: 50px; background: rgba(255,158,203,0.15); border: 1px dashed #ff9ecb; 
        border-radius: 12px; display: flex; align-items: center; justify-content: center; 
        font-family: 'Dancing Script'; font-size: 14px; cursor: pointer; color: transparent; transition: 0.4s;
    }
    .gift-card::before { content: 'ğŸ'; color: #ff9ecb; font-size: 20px; }
    .gift-card.open { background: #ff9ecb; color: white; border-style: solid; }
    .gift-card.open::before { display: none; }

    /* KARTLARDAN SONRA Ã‡IKACAK NOT */
    #final-personal-note {
        margin-top: 20px; font-family: 'Dancing Script'; font-size: 17px; color: #ff9ecb;
        opacity: 0; transform: translateY(10px); transition: 1.5s all ease; line-height: 1.5;
        display: none;
    }
    #final-personal-note.visible { opacity: 1; transform: translateY(0); display: block; }

    .papatya-box { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(10px); border-radius: 25px; padding: 20px; width: 90%; max-width: 420px; z-index: 100; text-align: center; margin-bottom: 20px; }
    .petal { width: 16px; height: 45px; background: #fff; border-radius: 10px; position: absolute; left: 42px; bottom: 50px; transform-origin: bottom center; transition: 0.4s; }
    .petal.plucked { opacity: 0; transform: translateY(-40px) rotate(20deg); }
    .magic-star { position: fixed; background: #ff9ecb; border-radius: 50%; pointer-events: none; z-index: 9999; animation: starFade 1s forwards; }
    @keyframes starFade { 0% { opacity: 1; transform: scale(1); } 100% { opacity: 0; transform: scale(0); } }
    @keyframes glow { from { text-shadow: 0 0 10px #f1c40f; } to { text-shadow: 0 0 30px #f1c40f, 0 0 40px #ff9ecb; } }
    .theme-btn { position: fixed; top: 20px; right: 20px; border: none; background: rgba(255,255,255,0.1); color: #fff; width: 40px; height: 40px; border-radius: 50%; z-index: 200; pointer-events: auto; }
</style>
</head>
<body>

<div id="magic-popup-overlay">
    <div class="popup-content">
        <h2 style="font-family: 'Dancing Script'; font-size: 34px; color: #ff9ecb; margin-bottom: 20px;">Sena Ä°Ã§in Yeni YÄ±l DileÄŸi â¤ï¸âœ¨</h2>
        <p style="font-size: 15px; line-height: 1.8; color: #ddd; margin-bottom: 25px;">Yeni yaÅŸÄ±n ve 2026 yÄ±lÄ± sana tÃ¼m hayallerini getirsin. Kalbinin gÃ¼zelliÄŸi her anÄ±na yansÄ±sÄ±n. <br><br><b>Ä°yi ki doÄŸdun! ğŸ‚</b></p>
        <button id="closePopupBtn" style="background: #ff9ecb; color: white; border: none; padding: 12px 35px; border-radius: 25px; font-weight: 600; cursor: pointer;">Ä°yi Ki VarsÄ±n â¤ï¸</button>
    </div>
</div>

<button class="theme-btn" id="themeBtn">ğŸŒ™</button>

<div class="heart-container">
    <div class="heart-note">Sena iÃ§in Ã§arpÄ±yor... â¤ï¸</div>
    <div class="pulsing-heart">â¤ï¸</div>
</div>

<div class="header-group">
    <div class="top-wish">Ä°yi Ki DoÄŸdun</div>
    <div class="name-wrapper">
        <span class="side-flower">ğŸŒ¸</span>
        <span class="name">SENA</span>
        <span class="side-flower">ğŸŒ¸</span>
    </div>
</div>

<div class="main-card">
    <div id="countdown" class="dominant-countdown"></div>
    <p style="font-size: 14px; line-height: 1.8; margin-bottom: 10px; font-weight: 300;">GirdiÄŸin bu yeni yaÅŸ, tÃ¼m cesaretini Ã¶dÃ¼llendirsin. <br>DÃ¼nyayÄ± gÃ¼zelleÅŸtiren o enerjin hiÃ§ bitmesin.</p>
    <p style="font-family: 'Dancing Script'; font-size: 22px; color: #ff9ecb; margin-bottom: 10px;">Mutlu YÄ±llar âœ¨</p>
    
    <div id="surprise-container">
        <div class="gift-card" onclick="openGift(this, 'GÃ¼lÃ¼ÅŸÃ¼n')"></div>
        <div class="gift-card" onclick="openGift(this, 'GÃ¶zlerin')"></div>
        <div class="gift-card" onclick="openGift(this, 'Enerjin')"></div>
    </div>

    <div id="final-personal-note">
        Hepsi birbirinden gÃ¼zel, yeni yaÅŸÄ±nda ve yeni yÄ±lÄ±nda bunlarÄ± daha Ã§ok gÃ¶rebilmek dileÄŸiyle, nice senelere Sena ğŸ’–
    </div>

    <button id="fortuneBtn" style="background: #f1c40f; color: #333; border: none; padding: 12px 25px; border-radius: 20px; font-weight: 700; cursor: pointer; margin-top: 15px;">ğŸ¥  Åans Kurabiyeni AÃ§</button>
    <div id="wish-text" style="min-height: 25px; margin-top: 15px; color: #7bed9f; font-size: 14px; font-style: italic;"></div>
</div>

<div class="papatya-box">
    <div class="papatya" style="width: 100px; height: 100px; position: relative; margin: 10px auto;" id="papatya">
        <div style="width: 25px; height: 25px; background: #ffcc00; border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 10;"></div>
    </div>
    <p id="result-text" style="color: #ff9ecb; font-weight: bold; font-size: 15px;"></p>
</div>

<div style="text-align: center; width: 90%; max-width: 420px; z-index: 100; margin-bottom: 50px;">
    <input type="text" id="wish-input" style="width: 100%; padding: 15px; border-radius: 15px; border: 1px solid #ff9ecb88; background: rgba(255,255,255,0.05); color: white; margin-bottom: 12px; outline: none;" placeholder="DileÄŸini gÃ¶kyÃ¼zÃ¼ne yaz...">
    <button id="send-wish-button" style="background: #ff9ecb; color: white; border: none; padding: 15px 35px; border-radius: 25px; font-weight: 600; cursor: pointer;">DileÄŸi UÃ§ur</button>
</div>

<div id="time-note" class="time-note"></div>

<script>
    const popupOverlay = document.getElementById('magic-popup-overlay');
    setTimeout(() => {
        popupOverlay.style.display = 'flex';
        setTimeout(() => { popupOverlay.classList.add('active'); }, 50);
    }, 30000);

    document.getElementById('closePopupBtn').onclick = function() {
        popupOverlay.classList.remove('active');
        setTimeout(() => { popupOverlay.style.display = 'none'; }, 500);
    };

    // KARTLARI TAKÄ°P ETME
    let cardsOpened = 0;
    function openGift(el, text) {
        if (!el.classList.contains('open')) {
            el.innerText = text;
            el.classList.add('open');
            cardsOpened++;
            if (cardsOpened === 3) {
                const note = document.getElementById('final-personal-note');
                note.classList.add('visible');
            }
        }
    }

    // KUTLAMA MODU
    function triggerGrandFinale() {
        document.getElementById('surprise-container').style.display = 'flex';
        
        setInterval(() => {
            const b = document.createElement('div');
            b.innerHTML = ['ğŸˆ', 'ğŸ’–', 'ğŸ‚', 'âœ¨'][Math.floor(Math.random() * 4)];
            b.style.position = 'fixed';
            b.style.bottom = '-50px';
            b.style.left = Math.random() * 100 + 'vw';
            b.style.fontSize = '30px';
            b.style.zIndex = '1000';
            b.style.cursor = 'pointer';
            document.body.appendChild(b);
            const anim = b.animate([{ transform: 'translateY(0)', opacity: 1 }, { transform: `translateY(-110vh) translateX(${(Math.random()-0.5)*100}px)`, opacity: 0 }], { duration: 4000, easing: 'linear' });
            b.onclick = () => { b.innerHTML = 'âœ¨'; setTimeout(() => b.remove(), 200); };
            anim.onfinish = () => b.remove();
        }, 500);

        for (let i = 0; i < 100; i++) {
            setTimeout(() => {
                const c = document.createElement('div');
                c.style.position = 'fixed';
                c.style.width = '8px'; c.style.height = '8px';
                c.style.backgroundColor = ['#ff9ecb', '#f1c40f', '#fff'][Math.floor(Math.random()*3)];
                c.style.left = Math.random() * 100 + 'vw';
                c.style.top = '110vh';
                c.animate([{ transform: 'translateY(0) rotate(0deg)', opacity: 1 }, { transform: `translateY(-120vh) translateX(${(Math.random()-0.5)*200}px) rotate(720deg)`, opacity: 0 }], { duration: 3000, easing: 'ease-out' });
                document.body.appendChild(c);
                setTimeout(() => c.remove(), 4000);
            }, i * 30);
        }
    }

    function updateCD() {
        const target = new Date(2026, 0, 1);
        const diff = target - new Date();
        const countdownEl = document.getElementById('countdown');

        if (diff <= 0) {
            countdownEl.innerHTML = "<span style='color:#f1c40f; font-size:30px; animation: glow 1s infinite alternate;'>Ä°YÄ° KÄ° DOÄDUN SENA! âœ¨</span>";
            if(!window.celebrationStarted) {
                triggerGrandFinale();
                window.celebrationStarted = true;
            }
            return;
        }

        const d = Math.floor(diff / 86400000);
        const h = Math.floor((diff % 86400000) / 3600000);
        const m = Math.floor((diff % 3600000) / 60000);
        const s = Math.floor((diff % 60000) / 1000);
        countdownEl.innerText = `${d}g ${h}s ${m}d ${s}sn`;
    }
    setInterval(updateCD, 1000); updateCD();

    const notes = ["BugÃ¼n senin gÃ¼nÃ¼n! âœ¨", "IÅŸÄ±ldÄ±yorsun Sena!", "GÃ¼lÃ¼ÅŸÃ¼n dÃ¼nyayÄ± Ä±sÄ±tÄ±yor. ğŸŒ¸", "Ä°yi ki doÄŸdun!", "Her ÅŸey gÃ¶nlÃ¼nce olsun..."];
    let noteIdx = 0;
    setInterval(() => {
        const noteEl = document.getElementById('time-note');
        if(!noteEl) return;
        noteEl.style.opacity = 0;
        setTimeout(() => {
            noteEl.innerText = notes[noteIdx];
            noteEl.style.opacity = 1;
            noteIdx = (noteIdx + 1) % notes.length;
        }, 1000);
    }, 5000);

    document.getElementById('send-wish-button').onclick = function() {
        const input = document.getElementById('wish-input');
        if (!input.value.trim()) return;
        for(let i=0; i<10; i++) {
            setTimeout(() => {
                const l = document.createElement('div');
                l.className = 'lantern';
                l.style.left = Math.random() * 90 + 5 + 'vw';
                l.style.bottom = '-50px';
                l.animate([{ transform: `translateY(0)`, opacity: 0 }, { transform: `translateY(-110vh)`, opacity: 1, offset: 0.1 }, { transform: `translateY(-120vh)`, opacity: 0 }], { duration: 8000 });
                document.body.appendChild(l);
                setTimeout(() => l.remove(), 8000);
            }, i * 400);
        }
        input.value = '';
    };

    document.addEventListener('mousemove', (e) => {
        const star = document.createElement('div');
        star.className = 'magic-star';
        star.style.left = e.clientX + 'px'; star.style.top = e.clientY + 'px';
        const size = Math.random() * 5 + 2;
        star.style.width = size + 'px'; star.style.height = size + 'px';
        document.body.appendChild(star);
        setTimeout(() => star.remove(), 1000);
    });

    document.getElementById('fortuneBtn').onclick = () => {
        const msgs = ["Harika bir haber yolda! ğŸ’Œ", "YÄ±ldÄ±zlar senin iÃ§in parlÄ±yor! âœ¨", "Åans hep seninle! ğŸ€"];
        document.getElementById('wish-text').innerText = "ğŸ¥  " + msgs[Math.floor(Math.random() * msgs.length)];
    };

    const pContainer = document.getElementById('papatya');
    for(let i=0; i<12; i++) {
        const pet = document.createElement('div');
        pet.className = 'petal'; pet.style.transform = `rotate(${i * 30}deg)`;
        pet.onclick = function() {
            this.classList.add('plucked');
            const left = document.querySelectorAll('.petal:not(.plucked)').length;
            document.getElementById('result-text').innerText = left > 0 ? (left % 2 === 0 ? "Seviyor" : "Ã‡ok Seviyor") : "Seni Ã‡ok Seviyor! ğŸŒ¸";
        };
        pContainer.appendChild(pet);
    }

    document.getElementById('themeBtn').onclick = () => {
        document.body.classList.toggle('light');
    };
</script>
</body>
</html>
